---
layout: '@layouts/Guide.astro'
title: Events
icon: grid
description: Usings events with components
---
import { Image } from 'astro:assets';
import PlaygroundExample from '@components/PlaygroundExample/PlaygroundExample.astro';

import lifecycleImage from '@images/lifecycle-diagram.png';


## Binding Event Handlers

Semantic components can include events by passing in an object mapping events to event handlers when creating your component. Events take the form of `eventName selector`, for instance `click .submit`.

> **Event Delegation** Event handlers are attached to the shadow root of your component using a pattern called event delegation where the component listens for the bubbled event. This means that even if you add or remove content that matches the selector after render the event will still fire if the selector matches.

```javascript
createComponent({
  events: {
    'click .submit'({ tpl }) {
      tpl.submit();
    },
    'click .menu ui-button'({}) {
      tpl.doSomething();
    }
  }
});
```

### Multiple Events + One Selector

You can specify multiple events using a comma separated list with a single selector
```javascript
const events = {
  'mouseup, mouseleave .selector'({state}) => {
    state.active.set(false);
  }
};
```

### Multiple Events + Multiple Selectors

You can also specify multiple selectors when specifying an event by passing in a comma separated list.

```javascript
const events = {
  'click .selector1, click .selector2' () => {
    // do something
  }
};
```

### Component Events
To attach events to your entire component you can pass in an event name without a selector

```javascript
const events = {
  'mouseover'({state}) => {
    state.hovered.set(true);
  }
  'mouseout'({state}) => {
    state.hovered.set(false);
  }
};
```

### Attaching Events Externally

You can use `attachEvent` which is passed to all component callbacks to attach an dynamically attach events, either to parts of a component or to external selectors like the page's `body` tag, or slotted content.

All events attached with `attachEvent` will automatically be removed when the component is destroyed using `abortSignals`.

```javascript
const onCreated = ({attachEvent, isClient}) => {
  if(isClient) {
    attachEvent('body', 'scroll', tpl.onPageScroll)
  }
};
```


## Dispatching Custom Events

### Dispatching Custom Events

Custom events can be emitted from your component using `dispatchEvent` and can include custom metadata which will be passed along as `data` to events.

```javascript
const createInstance = ({dispatchEvent}) => {
  scrollToItem(itemID) {
    // handle scrolling to item
    dispatchEvent('itemactive', { itemID, position });
  },
};
```


> **Callbacks versus events** Although you can use callback functions in [component settings](/component/settings) to alert of internal changes in a component, it is a better pattern to only use callbacks in settings if you need the function to return a value as dispatched events cannot achieve this.

```javascript
const settings = {

  // this could be useful to allow user to cancel an internal action
  shouldShow: () => true,

  // this should probably be a custom event
  onShow: function(){},
};
```



### Listening to Custom Events
You can listen to a custom event the same way as a normal browser event, however they can include additional metadata.

```javascript
// from another component
const events = {
  'itemactive inpage-menu'({tpl,data}) {
    const { itemID, position } = data;
    // do something with metadata
  }
};
```

You can also use [query](/query) to listen to custom events from your component
```javascript
import { $ } from '@semantic-ui/query';

$('inpage-menu', 'itemactive', (event) => {
  const { itemID, position } = event.details;
  // do something with metadata
})
```

Or simply use vanilla javascript
```javascript
const el = document.querySelector('inpage-menu');
el.addEventListener('itemactive', (event) => {
  const { itemID, position } = event.details;
});
```

## Event Handlers

In addition to the [standard arguments](/components/lifecycle) that are passed to all component callbacks, event handlers get access to a few extra arguments.

| parameter         | use                                              |
|-------------------|--------------------------------------------------|
| el                | the dom element that dispatched the event        |
| event             | the native event object                          |
| data              | event.detail + data attributes on dom element    |


### Data

Data is a combination of html metadata on the target element as well as `event.details` from any dispatched custom event.



