---
  import Playground from '@layouts/Playground.astro';
  import { getSandboxURL, getEmptyProjectFiles } from '@helpers/playground.js';

  const files = getEmptyProjectFiles({withInjections: true, withStubs: true});
  const projectConfig = {
    files: files
  };
  const sandboxURL = getSandboxURL();
---
<script>
  import 'playground-elements/playground-project.js';
  import 'playground-elements/playground-file-editor.js';
  import 'playground-elements/playground-preview.js';
</script>
<Playground>
  <playground-project id="source" sandbox-base-url={sandboxURL}></playground-project>
  <script define:vars={{ projectConfig }}>
    document.querySelector('playground-project').config = projectConfig;
  </script>
  <playground>
    <panes>
      <pane>
        <label>Component JS</label>
        <playground-tab-bar editor="editor1" editable-file-system></playground-tab-bar>
        <playground-file-editor line-numbers project="source" filename="component.js"> </playground-file-editor>
      </pane>
      <pane>
        <label>Component Template</label>
        <playground-tab-bar editor="editor1" editable-file-system></playground-tab-bar>
        <playground-file-editor line-numbers project="source" filename="component.html"> </playground-file-editor>
      </pane>
      <pane>
        <label>Component CSS</label>
        <playground-tab-bar editor="editor1" editable-file-system></playground-tab-bar>
        <playground-file-editor line-numbers project="source" filename="component.css"> </playground-file-editor>
      </pane>
    </panes>
    <panes>
      <pane>
        <label>Page HTML</label>
        <playground-file-editor line-numbers project="source" filename="index.html"> </playground-file-editor>
      </pane>
      <pane>
        <label>Page CSS</label>
        <playground-file-editor line-numbers project="source" filename="index.css"> </playground-file-editor>
      </pane>
      <pane class="preview">
        <playground-preview project="source"> </playground-preview>
      </pane>
    </panes>
  </playground>
  <script>
    const editor = document.querySelectorAll('playground-file-editor');
  </script>
</Playground>
