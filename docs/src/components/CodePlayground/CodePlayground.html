<div class="playground {{classMap getClassMap}}" part="playground">
  {{#if example.title}}
    <div class="masthead" part="masthead">
      {{#if canShowButtons}}
        <ui-button right-floated transparent small compact inverted class="tabs">
          {{#if shouldUseTabs}}
            Use Panels
          {{else}}
            Use Tabs
          {{/if}}
        </ui-button>
        <ui-button right-floated transparent small compact inverted>
          <ui-icon copy></ui-icon>
          Fork
        </ui-button>
      {{/if}}
      <h3 class="title" part="title">{{example.title}}</h3>
      <p part="description">{{example.description}}</p>
    </div>
  {{/if}}
  {{#if exists files}}
    <playground-project id="source" sandbox-base-url="{{sandboxURL}}">
      {{#each file in getFileArray}}
        <script type="{{file.scriptType}}" filename="{{file.filename}}">{{#if is file.type 'text/html'}}{{{escapeHTML file.content}}}{{else}}{{file.content}}{{/if}}</script>
      {{/each}}
    </playground-project>
  {{/if}}
  {{#if either shouldUseTabs inline}}
    <ui-panels
      class={{classMap getTabPanelsClass}}
      direction="{{getTabDirection}}"
      style={{getStyle}}
      saveState={{saveState}}
      saveStateID="{{getSaveID}}"
      exportparts="panels"
    >
      <ui-panel
        direction="{{getTabDirection}}"
        size="60"
        class="files"
        exportparts="panel, handle"
      >
        <div class="menu">
          <ui-menu
            dark
            selection
            items={{getFileMenuItems}}
            value={{activeFile}}
            class="files"
            part="menu"
          ></ui-menu>
        </div>
        {{>template
          name='CodePlaygroundFile'
          data={inline: true}
          reactiveData={filename: activeFile}
        }}
      </ui-panel>
      <ui-panel
        direction="{{getTabDirection}}"
        size=40
        class="preview"
        exportparts="panel, handle"
      >
        {{>CodePlaygroundPreview exampleURL=exampleURL}}
      </ui-panel>
    </ui-panels>
  {{else}}
    <ui-panels
      class="fullscreen"
      direction="horizontal"
      saveState={{saveState}}
      saveStateID="{{getSaveID 'row'}}"
      exportparts="panels"
      part="full-panels"
    >
      {{#each panelGroup in getPanels}}
        <ui-panel
          direction="horizontal"
          size={{getPanelGroupWidth @index}}
          class="code-group"
          exportparts="panel, handle"

        >
          <ui-panels
            class="files"
            saveState=true
            saveStateID="{{getSaveID 'column' @index}}"
            exportparts="panels"
          >
            {{#each panel in panelGroup}}
              {{>CodePlaygroundPanel
                panel=panel
                size=(getPanelSize panel)
              }}
            {{/each}}
          </ui-panels>
        </ui-panel>
      {{/each}}
    </ui-panels>
  {{/if}}
  <ui-menu
    dark
    fluid
    evenly-spaced=true
    selection
    items={{mobileMenu}}
    value={{mobileView}}
    class="mobile"
    part="mobile-menu"
  ></ui-menu>
</div>
