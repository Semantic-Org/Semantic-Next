<div class="playground {{classIf resizing 'resizing'}}" part="playground">
  {{#if example.title}}
    <div class="masthead" part="masthead">
      <ui-button right-floated transparent small compact inverted class="tabs">
        {{#if useTabs}}
          Use Panels
        {{else}}
          Use Tabs
        {{/if}}
      </ui-button>
      <ui-button right-floated transparent small compact inverted>
        <ui-icon copy></ui-icon>
        Fork
      </ui-button>
      <h3 class="title" part="title">{{example.title}}</h3>
      <p part="description">{{example.description}}</p>
    </div>
  {{/if}}
  {{#if exists files}}
    <playground-project id="source" sandbox-base-url="{{sandboxURL}}">
      {{#each file in getFileArray}}
        <script type="{{file.scriptType}}" filename="{{file.filename}}">{{#if is file.type 'text/html'}}{{{escapeHTML file.content}}}{{else}}{{file.content}}{{/if}}</script>
      {{/each}}
    </playground-project>
  {{/if}}
  {{#if either useTabs inline}}
    <ui-panels
      class={{classMap getTabPanelsClass}}
      direction="{{getTabDirection}}"
      saveState={{saveState}}
      saveStateID="{{getSaveID}}"
      exportparts="panels"
    >
      <ui-panel
        direction="{{getTabDirection}}"
        size="60"
        class="files"
        exportparts="panel, handle"
      >
        <div class="menu">
          <ui-menu
            selection
            items={{stringify getFileMenuItems}}
            value={{activeFile}}
          ></ui-menu>
          {{#if exampleURL}}
            <div class="links">
              <a href="{{exampleURL}}" class="sandbox link">
                <ui-icon codesandbox link></ui-icon>
              </a>
            </div>
          {{/if}}
        </div>
        {{>template
          name='CodePlaygroundFile'
          data={inline: true}
          reactiveData={filename: activeFile}
        }}
      </ui-panel>
      <ui-panel
        direction="{{getTabDirection}}"
        size=40
        class="preview"
        exportparts="panel, handle"
      >
        <playground-preview project="source"> </playground-preview>
      </ui-panel>
    </ui-panels>
  {{else}}
    <ui-panels
      class="fullscreen"
      direction="horizontal"
      saveState={{saveState}}
      saveStateID="{{getSaveID 'row'}}"
      exportparts="panels"
    >
      {{#each panelGroup in getPanels}}
        <ui-panel
          direction="horizontal"
          size={{getPanelGroupWidth @index}}
          class="code-group"
          exportparts="panel, handle"

        >
          <ui-panels
            class="files"
            saveState=true
            saveStateID="{{getSaveID 'column' @index}}"
            exportparts="panels"
          >
            {{#each panel in panelGroup}}
              {{>CodePlaygroundPanel
                panel=panel
                size=(getPanelSize panel)
              }}
            {{/each}}
          </ui-panels>
        </ui-panel>
      {{/each}}
    </ui-panels>
  {{/if}}
</div>
