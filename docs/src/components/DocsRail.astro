---
import InPageMenu from'@components/InPageMenu/InPageMenu.js';
const { currentRoute, menu, entry } = Astro.props;
import './DocsRail.css';

const getMenu = function() {
  if(menu) {
    return menu;
  }
  if(entry) {
    return [];
  }
};
---
<railMenu>
   <InPageMenu
      menu={getMenu()}
      intersectionContext='layout page'
      scrollContext='layout page'
      scrollOffset=120
      smoothScroll=true
      client:load
  ></InPageMenu>
  <script is:client>
    const el = document.querySelector('inpage-menu');
    el.onActive = function(itemID) {
      console.log(itemID, 'active!');
    };
  </script>
</railMenu>
