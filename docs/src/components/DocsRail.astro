---
import InPageMenu from '@components/InPageMenu/InPageMenu.js';
const { currentRoute, menu, useAccordion, scrollOffset, entry } = Astro.props;
import './DocsRail.css';

const railMenu = [ { label: 'On This Page', value: 'page' }, { label: 'Examples', value: 'related'}];
---
<railMenu>
  <!-- <ui-menu items={railMenu} value='page'></ui-menu> !-->
   <InPageMenu
      menu={menu}
      useAccordion={useAccordion}
      intersectionContext='layout page'
      scrollContext='layout page'
      scrollOffset={scrollOffset || 145}
      showHeader
      smoothScroll=true
      client:load
  ></InPageMenu>
  <script>
    import { $ } from '@semantic-ui/query';
    $('inpage-menu').settings({
      onSamePageActive({element}) {
        $(element).addClass('highlight');
        setTimeout(() => {
          $(element).removeClass('highlight');
        }, 300);
      }
    });
  </script>
</railMenu>
