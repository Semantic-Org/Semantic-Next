---
import InPageMenu from'@components/InPageMenu/InPageMenu.js';
const { currentRoute, menu, entry } = Astro.props;
import './DocsRail.css';

const getMenu = function() {
  if(menu) {
    return menu;
  }
  if(entry) {

  }
  return [
    {
      title: 'Types',
      items: [
        { _id: 'button-example', title: 'Standard' },
        { _id: 'emphasis-example', title: 'Emphasis' },
        { _id: 'icon-example', title: 'Icon' },
        { _id: 'toggle-example', title: 'Toggle' },
        { _id: 'animated-example', title: 'Animated' },
      ]
    },
    {
      title: 'Content',
      items: [
        { _id: 'text-example', title: 'Text' },
      ]
    }
  ];
};
---
<railMenu>
   <InPageMenu
      menu={getMenu()}
      scrollContext='layout page'
      scrollOffset=120
      smoothScroll=true
      client:load
  ></InPageMenu>
  <script is:client>
    const el = document.querySelector('inpage-menu');
    el.onActive = function(itemID) {
      console.log(itemID, 'active!');
    };
  </script>
</railMenu>
